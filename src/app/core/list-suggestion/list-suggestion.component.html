<div class="container bg-light">
    <h1 class="mb-5">Liste des suggestions</h1>
    <input type="text" class="form-control mb-4" placeholder="Rechercher une suggestion..." [(ngModel)]="searchTerm"/>
    <div>
        <div class="card m-2" *ngFor="let s of filteredSuggestions()">
            <div class="card-body">
                <h2 class="card-title"> {{ s.title }} </h2>
                <h6><span class="text-primary"> {{ s.category }} </span> {{ s.date | date }} </h6>
                <p class="card-text"> {{ s.description }} </p>
                <p class="card-text" *ngIf="s.status == 'acceptee'"> <span class="badge text-bg-success"> {{ s.status }} </span> </p>
                <p class="card-text" *ngIf="s.status == 'refusee'"> <span class="badge text-bg-danger"> {{ s.status }} </span> </p>
                <p class="card-text" *ngIf="s.status == 'en_attente'"> <span class="badge text-bg-warning"> {{ s.status }} </span> </p>
                <div *ngIf="s.status != 'refusee'">
                    <button (click)="likeSuggestion(s)" class="btn btn-primary m-2"><i class="bi bi-hand-thumbs-up m-2"></i>Like ({{ s.nbLikes }})</button>
                    <button (click)="addToFavorites(s)" class="btn btn-light"><i class="bi bi-heart m-2"></i>Ajouter aux favoris</button>
                </div>

            </div>
        </div>
    </div>

    <div *ngIf="favoriteSuggestions.length > 0">
        <h2 class="mb-4">Suggestions favorites</h2>
        <div class="card m-2" *ngFor="let s of favoriteSuggestions">
            <div class="card-body">
                <h2 class="card-title"> {{ s.title }} </h2>
                <h6><span class="text-primary"> {{ s.category }} </span> {{ s.date | date }} </h6>
                <p class="card-text"> {{ s.description }} </p>
            </div>
        </div>
    </div>

</div>